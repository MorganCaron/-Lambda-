!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="dist",r(r.s=17)}({0:function(t,e,r){"use strict";r.r(e);var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=(o.prototype.save=function(t){var e=this;this.elements=[],Array.from(t.childNodes).forEach(function(t){t instanceof Element&&e.elements.push({element:t,rect:t.getBoundingClientRect()})})},o.prototype.play=function(t){this.elements.forEach(function(e){var r=e.rect,i=e.element.getBoundingClientRect();if(i.width&&i.height){var o=r.x-i.x,s=r.y-i.y;(o||s)&&e.element.animate([{transformOrigin:"top left",transform:"translate("+o+"px, "+s+"px)"},{transformOrigin:"top left",transform:"none"}],n({},t,{fill:"both"}))}})},o);function o(){this.elements=[]}var s,a=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=(c.prototype.render=function(){return this.el},c);function c(t){void 0===t&&(t=""),this.el=document.createTextNode(t)}var l=(f.prototype.found=function(){return null!=this.el},f.prototype.delete=function(){this.el&&this.el.remove()},f.prototype.setAttrs=function(t){if(this.el){var e=function(e){"string"==typeof t[e]?r.el.setAttribute(e,t[e]):(r.el.addEventListener(e,function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r[0].preventDefault(),t[e].apply(void 0,r)}),"click"===e&&"A"===r.el.tagName&&r.el.setAttribute("href","#"))},r=this;for(var n in t)e(n)}},f.prototype.clearChilds=function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild)},f.prototype.addChilds=function(t){var e=this;t.forEach(function(t){e.el.appendChild(t.el)})},f.prototype.setContent=function(t){if(this.el){var e=[];"string"==typeof t&&""!==t?e=[new h(t)]:Array.isArray(t)&&(e=t),this.clearChilds(),this.addChilds(e)}},f);function f(t){this.el=t}var p,d=(a(g,p=l),g);function g(t,e,r){void 0===e&&(e=""),void 0===r&&(r={});var n=p.call(this,document.createElement(t))||this;return n.setAttrs(r),n.setContent(e),n}var v,y=(a(m,v=l),m.prototype.update=function(){this.setContent(this.render()),this.afterRender()},m.prototype.render=function(){return console.log(name+".render() not implemented"),[]},m.prototype.afterRender=function(){},m);function m(t){return v.call(this,t.el)||this}var C,x=(a(S,C=l),S);function S(){var t=C.call(this,document.querySelector("head"))||this;return['meta[name="viewport"]',"meta[charset]"].forEach(function(t){document.querySelectorAll(t).forEach(function(t){t&&t.remove()})}),t.addChilds([new d("meta","",{name:"viewport",content:"width=device-width, initial-scale=1"}),new d("meta","",{charset:"UTF-8"})]),t}var w,b=(a(E,w=l),E.prototype.compareTagName=function(t,e){return!function(t,e){return t?!e:e}(t instanceof Element,e instanceof Element)&&(t instanceof Text?t.wholeText==e.wholeText:t instanceof Element&&t.tagName==e.tagName)},E.prototype.updateAttributes=function(t,e){var r=Array.from(t.attributes),n=Array.from(e.attributes);r.forEach(function(r){var n=r.name;e.hasAttribute(n)||t.removeAttribute(n)}),n.forEach(function(r){var n=r.name,i=e.getAttribute(n);t.hasAttribute(n)&&t.getAttribute(n)===e.getAttribute(n)||t.setAttribute(n,i)})},E.prototype.updateChilds=function(t,e){var r=Array.from(t.children).length,n=e.length,o=new i;o.save(t);for(var s=0;s<r||s<n;++s){var a=t.children[s],h=e[s];!a&&h?t.appendChild(h).animate([{opacity:0},{opacity:1}],u({},this.animationOptions,{fill:"both"})):a&&!h?t.removeChild(a):this.compareTagName(a,h)&&a.textContent===h.textContent?(this.updateAttributes(a,h),a.isEqualNode(h)||(0==h.children.length&&a.textContent!==h.textContent?a.textContent=h.textContent:this.updateChilds(a,Array.from(h.children)))):t.replaceChild(h,a)}o.play(this.animationOptions)},E.prototype.setContent=function(t){if(this.el){var e=[];"string"==typeof t&&""!==t?e=[new h(t)]:Array.isArray(t)&&(e=t),this.updateChilds(this.el,e.map(function(t){return t.el}))}},E.prototype.update=function(){this.setContent(this.render()),this.afterRender()},E.prototype.render=function(){return console.log(name+".render() not implemented"),[]},E.prototype.afterRender=function(){},E);function E(t){void 0===t&&(t=void 0);var e=w.call(this,document.body)||this;return e.animationOptions=u({duration:500,easing:"ease-in-out"},t),e.el.innerHTML="",e.head=new x,e}var O=(V.prototype.currentValue=function(){return this.values[this.indexValue]},V.prototype.currentString=function(){return this.currentValue()},V.prototype.currentChar=function(){return this.currentValue()[this.indexChar]},V.prototype.isSpace=function(t){return" \t\n".includes(t)},V.prototype.isChar=function(t){return/[@_\-0-9A-Za-z]/.test(t)},V.prototype.isString=function(){return"string"==typeof this.currentValue()},V.prototype.isEndOfString=function(){return this.indexChar>=this.currentString().length},V.prototype.isEndOfValues=function(){return this.indexValue>=this.values.length},V.prototype.gotoNextValue=function(){this.isEndOfValues()||(++this.indexValue,this.indexChar=0)},V.prototype.getNextWord=function(){for(var t="";!this.isEndOfString()&&this.isChar(this.currentChar());)t+=this.currentChar(),++this.indexChar;return t},V.prototype.parseCommentary=function(){var t=this.currentChar();if(++this.indexChar,"/"==t){var e=this.currentString().substring(this.indexChar).indexOf("\n");-1!=e&&(this.indexChar+=e+1)}else if("*"==t){var r=this.currentString().substring(this.indexChar).indexOf("*/");-1!=r&&(this.indexChar+=r+2)}this.parseSpace()},V.prototype.parseSpace=function(){for(;!this.isEndOfString()&&this.isSpace(this.currentChar());)++this.indexChar;this.indexChar+1<this.currentString().length&&"/"==this.currentChar()&&"/*".includes(this.currentString()[this.indexChar+1])&&(++this.indexChar,this.parseCommentary(),this.isEndOfString()&&this.gotoNextValue())},V.prototype.parseQuote=function(){var t=this.currentChar();if(!"'\"".includes(t))throw new Error("Syntax error: Character \" ou ' is missing.");++this.indexChar;for(var e="";!this.isEndOfValues()&&(!this.isEndOfString()&&this.currentChar()!==t||this.isEndOfString()&&this.indexValue+1<this.values.length&&"string"==typeof this.values[this.indexValue+1]);)if(this.isEndOfString())e+=this.values[++this.indexValue],this.gotoNextValue();else{if("\\"!==this.currentChar())e+=this.currentChar();else if(++this.indexChar,e+=this.currentChar(),this.isEndOfString())throw new Error("Syntax error: Character \\ must be followed by a character to escape.");++this.indexChar}if(this.isEndOfValues()||this.isEndOfString()||this.currentChar()!==t)throw new Error("Syntax error: A closing brace "+t+' is missing in "'+e+'".');return++this.indexChar,e},V.prototype.parseValue=function(){if(this.parseSpace(),!this.isEndOfString()&&"'\"".includes(this.currentChar()))return this.parseQuote();if(this.isEndOfString()){this.gotoNextValue();var t=this.currentValue();if("function"!=typeof t)throw new Error("Syntax error: The placeholder is not a function.");return this.gotoNextValue(),t}return this.getNextWord()},V.prototype.parseAttributes=function(){for(var t={};!this.isEndOfString()&&this.isChar(this.currentChar());){var e=this.getNextWord();if(this.parseSpace(),this.isEndOfString()||":"!==this.currentChar())throw new Error("Syntax error: Character ':' is missing after \""+e+'" attribute.');++this.indexChar,t[e]=this.parseValue(),this.parseSpace()}return t},V.prototype.parseElement=function(){var t=this.values[this.indexValue];if("string"==typeof t){if("'\"".includes(this.currentChar()))return new h(this.parseQuote());var e=this.getNextWord();if(0===e.length)throw new Error("Syntax error: Tag name is missing.");this.parseSpace();var r=this.parseAttributes(),n=void 0;if(this.isEndOfString())throw new Error('Syntax error: Missing element content or semicolon after "'+e+" "+JSON.stringify(r)+'"');if("'\"".includes(this.currentChar()))n=this.parseQuote();else{if(";"===this.currentChar())return++this.indexChar,new d(e,"",r);if("{"!==this.currentChar())throw new Error("Syntax error: Character '{' or ';' is missing  after \""+e+" "+JSON.stringify(r)+'"');++this.indexChar,n=this.parseBlock(!0)}return new d(e,n,r)}if(t instanceof l)return t;throw new Error("Syntax error: Use of a function out of context")},V.prototype.parseBlock=function(t){var e=this;function r(){e.isString()&&(e.parseSpace(),e.isEndOfString()&&++e.indexValue)}void 0===t&&(t=!1);var n=[];for(this.isEndOfValues()||r();!this.isEndOfValues()&&(!t||!this.isString()||this.isEndOfString()||"}"!==this.currentChar());)n.push(this.parseElement()),"string"!=typeof this.currentValue()&&this.gotoNextValue(),r();if(t){if(this.isEndOfValues()||!this.isString()||this.isEndOfString()||"}"!==this.currentChar())throw new Error("Syntax error: Character '}' is missing.");++this.indexChar,this.parseSpace()}return n},V.prototype.parseView=function(t){return this.values=t,this.indexValue=0,this.indexChar=0,this.parseBlock()},V.prototype.parseTag=function(t){this.values=t,this.indexValue=0,this.indexChar=0;var e=this.getNextWord();if(0==e.length)throw new Error("Syntax error: Tag name is missing.");this.parseSpace();var r=this.parseAttributes();return new d(e,"",r)},V);function V(){}function A(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=0,i=e.map(function(e){return[t[n++]].concat(function(t){return"number"==typeof t?[t.toString()]:t instanceof h?[t.el.wholeText]:Array.isArray(t)?t.map(function(t){return t instanceof h?t.el.wholeText:t}):[t]}(e))}).reduce(function(t,e){return t.concat(e)},[]);return i.push(t[n]),(new O).parseView(i)}function N(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=[],i=0;i<e.length;++i)n.push(t[i]),n.push(e[i]);return n.push(t[e.length]),(new O).parseTag(n)}var T=(_.prototype.depend=function(t){this.dependencies.push(t)},_.prototype.subscribe=function(t){this._updateFunction=t},_.prototype.update=function(){this._updateFunction&&this._updateFunction(),this.dependencies.forEach(function(t){t.update()})},Object.defineProperty(_.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.update()},enumerable:!0,configurable:!0}),_);function _(t){this.dependencies=[],this._value=t}function F(t){void 0===t&&(t=void 0),this.routes=[],this.root="/",this.mode=t||history.pushState?"history":"hash",this.currentFragment=null}var j,P,R=new(F.prototype.clearSlashes=function(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")},F.prototype.getFragment=function(){var t="";if("history"===this.mode)t=(t=this.clearSlashes(decodeURI(location.pathname+location.search))).replace(/\?(.*)$/,""),t="/"!=this.root?t.replace(this.root,""):t;else{var e=window.location.href.match(/#(.*)$/);t=e?e[1]:""}return this.clearSlashes(t)},F.prototype.add=function(t,e){this.routes.push({regex:t,controller:e})},F.prototype.remove=function(t){for(var e=0;e<this.routes.length;++e){var r=this.routes[e];t.toString()===r.regex.toString()&&this.routes.splice(e,1)}},F.prototype.check=function(t){void 0===t&&(t=null);for(var e=t||this.getFragment(),r=0;r<this.routes.length;++r){var n=this.routes[r],i=e.match("^"+n.regex+"$");i&&(i.shift(),n.controller.apply({},i))}},F.prototype.listen=function(){var t=this;clearInterval(this.interval),this.interval=window.setInterval(function(){t.currentFragment!==t.getFragment()&&(t.currentFragment=t.getFragment(),t.check(t.currentFragment))}.bind(this),50)},F.prototype.navigate=function(t){t=t||"","history"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(t)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+t,this.currentFragment!==this.getFragment()&&(this.currentFragment=this.getFragment(),this.check(this.currentFragment))},F);(P=j=j||{})[P.NoChange=0]="NoChange",P[P.Insertion=1]="Insertion",P[P.Substitution=2]="Substitution",P[P.Deletion=3]="Deletion";var I=(M.prototype.write=function(t,e,r){var n=this,i=function(t,e,r){for(var n=[],i=0;i<=t.length;++i)n[i]=[i];for(var o=0;o<=e.length;++o)n[0][o]=o;for(var s=1;s<=e.length;++s)for(var a=1;a<=t.length;++a)if(t[a-1]===e[s-1])n[a][s]=n[a-1][s-1];else{var u=n[a-1][s],h=n[a][s-1];if(r.replace){var c=n[a-1][s-1];n[a][s]=Math.min(u,h,c)+1}else n[a][s]=Math.min(u,h)+1}for(var l=t.length,f=e.length,p=[];0!==l&&0!==f;)t[l-1]===e[f-1]?(p.unshift(j.NoChange),--l,--f):n[l-1][f]<n[l][f-1]?(p.unshift(j.Deletion),--l):(r.replace&&n[l-1][f]===n[l][f-1]?(p.unshift(j.Substitution),--l):p.unshift(j.Insertion),--f);if(0===l&&0<f)for(;0<f--;)p.unshift(j.Insertion);else if(0===f&&0<l)for(;0<l--;)p.unshift(j.Deletion);return{distance:n[t.length][e.length],editions:p}}(this.target.value,t,{replace:e.replace});if(i.distance){for(var o=e.duration?e.duration/i.distance:e.interval,s=0,a=0,u=0;u<i.editions.length;++u){var h=i.editions[u];h===j.Insertion?setTimeout(function(e,r){n.target.value=n.target.value.substring(0,r)+t[e]+n.target.value.substr(r)},(u+1)*o,s,a):h===j.Substitution?setTimeout(function(e,r){n.target.value=n.target.value.substring(0,r)+t[e]+n.target.value.substr(r+1)},(u+1)*o,s,a):h===j.Deletion&&setTimeout(function(t,e){n.target.value=n.target.value.substring(0,e)+n.target.value.substr(e+1)},(u+1)*o,s,a),h!==j.Deletion&&(++a,++s)}setTimeout(r,i.distance*o)}},M);function M(t){this.target=t}r.d(e,"Layout",function(){return y}),r.d(e,"Body",function(){return b}),r.d(e,"Tag",function(){return N}),r.d(e,"View",function(){return A}),r.d(e,"Reactive",function(){return T}),r.d(e,"Router",function(){return R}),r.d(e,"Writer",function(){return I})},17:function(t,e,r){t.exports=r(0)}});